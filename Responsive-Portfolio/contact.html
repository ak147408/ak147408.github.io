<!doctype html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Contact | Anthony Koch</title>
  <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

  <header id="masthead">
    <div class="container">
      <a href="index.html" id="logo">Anthony Koch</a>
      <nav>
        <a href="index.html">About</a>
        <a href="portfolio.html">Portfolio</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <div id="main-container" class="container">
    <section class="main-section">
      <h1>Contact</h1>

      <form id="contact-form">
        <ul>
          <li>
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="John Smith" required="required">
          </li>
          <li>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="example@gmail.com" required="required">
          </li>
          <li>
            <label for="message">Message</label>
            <textarea id="message" name="message" required="required"></textarea>
          </li>
        </ul>
        <input type="submit" id="submitbutton">
      </form>

    </section>

  </div>

  <footer>
    <div class="container">
      Copyright &copy; 
    </div>
  </footer>
  <!-- jQuery -->
<script src="https://code.jquery.com/jquery.js"></script>

<!-- LINK TO FIREBASE GOES HERE -->
<script src="https://www.gstatic.com/firebasejs/5.1.0/firebase.js"></script>

<!-- Script -->
<script>
  
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBB5OH7Iy-bHmfe0-FliE5kDCKHBsffpeM",
    authDomain: "portfolio-contact-b2fe4.firebaseapp.com",
    databaseURL: "https://portfolio-contact-b2fe4.firebaseio.com",
    projectId: "portfolio-contact-b2fe4",
    storageBucket: "",
    messagingSenderId: "493128893578"
  };
  firebase.initializeApp(config);

  var database = firebase.database();

   var name = "";
   var email = "";
   var message = "";

   
    // Capture Button Click
    $("#submitbutton").on("click", function(event) {
      // Don't refresh the page!
      event.preventDefault();

      // YOUR TASK!!!
      // Code in the logic for storing and retrieving the most recent user.
      // Don't forget to provide initial data to your Firebase database.
      name = $("#name").val().trim();
      email = $("#email").val().trim();
      message = $("#message").val().trim();
      
      console.log(name);
      console.log(email);
      console.log(message);
      database.ref().push({
        name: name,
        email: email,
        message: message,
      });
      $("#name").val("");
      $("#email").val("");
      $("#message").val("");
    });
    // Firebase watcher + initial loader HINT: .on("value")
    database.ref().on("value", function(snapshot) {

// Log everything that's coming out of snapshot


// Change the HTML to reflect
     // $("#name-display").text(snapshot.val().name);
     // $("#email-display").text(snapshot.val().email);
      //$("#message-display").text(snapshot.val().message);

 // Handle the errors
}, function(errorObject) {
      console.log("Errors handled: " + errorObject.code);
    });



</script>
</body>

</html>
